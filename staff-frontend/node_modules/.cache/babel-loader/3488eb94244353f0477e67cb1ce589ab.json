{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useAuthContext } from \"./useAuthContext\";\nimport { useState } from \"react\";\nexport function useSignup() {\n  _s();\n\n  const [error, setError] = useState('null');\n  const [isLoading, setIsLoading] = useState('null');\n  const {\n    dispatch\n  } = useAuthContext();\n\n  async function signup(email, password) {\n    setIsLoading(true);\n    setError(null);\n    const response = await fetch('http://localhost:5000/api/user/signup', {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    const json = await response.json();\n\n    if (!response.ok) {\n      setIsLoading(false);\n      setError(json.error);\n    }\n\n    if (response.ok) {\n      localStorage.setItem('user', JSON.stringify(json));\n      dispatch({\n        type: 'LOGIN',\n        payload: json\n      });\n      setIsLoading(false);\n    }\n  }\n\n  return {\n    signup,\n    isLoading,\n    error\n  };\n}\n\n_s(useSignup, \"vySc21s7u1eR00HplAXP/93bk2I=\", false, function () {\n  return [useAuthContext];\n});","map":{"version":3,"names":["useAuthContext","useState","useSignup","error","setError","isLoading","setIsLoading","dispatch","signup","email","password","response","fetch","method","headers","body","JSON","stringify","json","ok","localStorage","setItem","type","payload"],"sources":["C:/Users/walee/Documents/Projects/Staff-mgmt/staff-frontend/src/hooks/useSignup.js"],"sourcesContent":["import { useAuthContext } from \"./useAuthContext\";\r\nimport  {useState}  from \"react\";\r\n\r\nexport function useSignup(){\r\n    const [error, setError] = useState('null')\r\n    const [isLoading, setIsLoading] = useState('null')\r\n    const {dispatch} = useAuthContext()\r\n\r\n    async function signup(email, password){\r\n        setIsLoading(true)\r\n        setError(null)\r\n        const response = await fetch('http://localhost:5000/api/user/signup',{\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                email,\r\n                password\r\n            })\r\n        })\r\n        const json = await response.json()\r\n\r\n        if(!response.ok){\r\n            setIsLoading(false)\r\n            setError(json.error)\r\n        }\r\n        if(response.ok){\r\n            localStorage.setItem('user', JSON.stringify(json))\r\n\r\n            dispatch({\r\n                type: 'LOGIN',\r\n                payload: json\r\n            })\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n    return {signup, isLoading, error}\r\n\r\n}"],"mappings":";;AAAA,SAASA,cAAT,QAA+B,kBAA/B;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,OAAO,SAASC,SAAT,GAAoB;EAAA;;EACvB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBH,QAAQ,CAAC,MAAD,CAAlC;EACA,MAAM,CAACI,SAAD,EAAYC,YAAZ,IAA4BL,QAAQ,CAAC,MAAD,CAA1C;EACA,MAAM;IAACM;EAAD,IAAaP,cAAc,EAAjC;;EAEA,eAAeQ,MAAf,CAAsBC,KAAtB,EAA6BC,QAA7B,EAAsC;IAClCJ,YAAY,CAAC,IAAD,CAAZ;IACAF,QAAQ,CAAC,IAAD,CAAR;IACA,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAAC,uCAAD,EAAyC;MACjEC,MAAM,EAAE,MADyD;MAEjEC,OAAO,EAAE;QACL,gBAAgB;MADX,CAFwD;MAKjEC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACjBR,KADiB;QAEjBC;MAFiB,CAAf;IAL2D,CAAzC,CAA5B;IAUA,MAAMQ,IAAI,GAAG,MAAMP,QAAQ,CAACO,IAAT,EAAnB;;IAEA,IAAG,CAACP,QAAQ,CAACQ,EAAb,EAAgB;MACZb,YAAY,CAAC,KAAD,CAAZ;MACAF,QAAQ,CAACc,IAAI,CAACf,KAAN,CAAR;IACH;;IACD,IAAGQ,QAAQ,CAACQ,EAAZ,EAAe;MACXC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BL,IAAI,CAACC,SAAL,CAAeC,IAAf,CAA7B;MAEAX,QAAQ,CAAC;QACLe,IAAI,EAAE,OADD;QAELC,OAAO,EAAEL;MAFJ,CAAD,CAAR;MAIAZ,YAAY,CAAC,KAAD,CAAZ;IACH;EACJ;;EACD,OAAO;IAACE,MAAD;IAASH,SAAT;IAAoBF;EAApB,CAAP;AAEH;;GApCeD,S;UAGOF,c"},"metadata":{},"sourceType":"module"}