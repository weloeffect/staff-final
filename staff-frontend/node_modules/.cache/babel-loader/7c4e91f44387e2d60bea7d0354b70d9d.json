{"ast":null,"code":"import _classCallCheck from\"C:/Users/walee/Documents/Projects/Staff-mgmt/staff-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/walee/Documents/Projects/Staff-mgmt/staff-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/walee/Documents/Projects/Staff-mgmt/staff-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/walee/Documents/Projects/Staff-mgmt/staff-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/walee/Documents/Projects/Staff-mgmt/staff-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Link}from\"react-router-dom\";import axios from'axios';import\"../css/view.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Employee=function Employee(props){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:props.employee.firstname}),/*#__PURE__*/_jsx(\"td\",{children:props.employee.lastname}),/*#__PURE__*/_jsx(\"td\",{children:props.employee.age}),/*#__PURE__*/_jsx(\"td\",{children:props.employee.salary}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary me-2 \",to:\"/update/\"+props.employee._id,children:\"Update \"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"btn btn-danger \",onClick:function onClick(){props.deleteEmployee(props.employee._id);},children:\" Delete\"})]})]});};export var View_staff=/*#__PURE__*/function(_Component){_inherits(View_staff,_Component);var _super=_createSuper(View_staff);function View_staff(props){var _this;_classCallCheck(this,View_staff);_this=_super.call(this,props);_this.deleteEmployee=_this.deleteEmployee.bind(_assertThisInitialized(_this));_this.state={staff:[]};return _this;}_createClass(View_staff,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://localhost:5000/staff/employees/').then(function(res){_this2.setState({staff:res.data});}).catch(function(err){console.log('error');});}},{key:\"deleteEmployee\",value:function deleteEmployee(id){axios.delete('http://localhost:5000/staff/employees'+id).then(function(res){return console.log(res.data);});this.setState({staff:this.state.staff.filter(function(user){return user._id!==id;})});}},{key:\"staffList\",value:function staffList(){var _this3=this;return this.state.staff.map(function(currentemployee){return/*#__PURE__*/_jsx(Employee,{employee:currentemployee,deleteEmployee:_this3.deleteEmployee},currentemployee._id);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"section\",{className:\"View\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" mt-5 mb-3\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"ps-2\",children:\"Available Employees\"})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Firstname\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Lastname\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Salary\"}),/*#__PURE__*/_jsx(\"th\",{className:\" ps-5\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.staffList()})]})]});}}]);return View_staff;}(Component);export default View_staff;","map":{"version":3,"names":["React","Component","Link","axios","Employee","props","employee","firstname","lastname","age","salary","_id","deleteEmployee","View_staff","bind","state","staff","get","then","res","setState","data","catch","err","console","log","id","delete","filter","user","map","currentemployee","staffList"],"sources":["C:/Users/walee/Documents/Projects/Staff-mgmt/staff-frontend/src/components/view_staff.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport {Link} from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport \"../css/view.css\"\r\n\r\nconst Employee= props =>\r\n <tr>\r\n   <td>{props.employee.firstname}</td>\r\n    <td>{props.employee.lastname}</td>\r\n    <td>{props.employee.age}</td>\r\n   <td>{props.employee.salary}</td>\r\n    <td>\r\n    <Link className='btn btn-primary me-2 ' to={\"/update/\"+props.employee._id}>Update </Link><a href=\"#\" className='btn btn-danger ' onClick={() =>{props.deleteEmployee(props.employee._id) }}> Delete</a>\r\n   </td>\r\n </tr>\r\n\r\nexport class View_staff extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.deleteEmployee = this.deleteEmployee.bind(this);\r\n    this.state = {staff:[]}\r\n  }\r\n  componentDidMount(){\r\n    axios.get('http://localhost:5000/staff/employees/')\r\n    .then(res=> {\r\n      this.setState({staff: res.data})\r\n    })\r\n    .catch(err => {\r\n      console.log('error')\r\n    })\r\n  }\r\n  deleteEmployee(id){\r\n    axios.delete('http://localhost:5000/staff/employees' + id)\r\n    .then(res => console.log(res.data));\r\n\r\n    this.setState({\r\n      staff: this.state.staff.filter(user => user._id !== id)\r\n    })\r\n  }\r\n  staffList(){\r\n    return this.state.staff.map(currentemployee=>{\r\n      return <Employee employee={currentemployee} deleteEmployee={this.deleteEmployee} key={currentemployee._id} />\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className='View'>\r\n          <div className=' mt-5 mb-3'>\r\n            <h1 className='ps-2'>Available Employees</h1>\r\n          </div>\r\n          <table className=\"table table-striped table-hover\">\r\n              <thead className=\"thead-light\">\r\n              <tr>\r\n                <th>Firstname</th>\r\n                <th>Lastname</th>\r\n                <th>Age</th>\r\n                <th>Salary</th>\r\n                <th className=' ps-5'>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.staffList()}\r\n            </tbody>\r\n        </table>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nexport default View_staff"],"mappings":"qtBAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAO,iBAAP,C,wFAEA,GAAMC,SAAQ,CAAE,QAAVA,SAAU,CAAAC,KAAK,qBACpB,mCACE,oBAAKA,KAAK,CAACC,QAAN,CAAeC,SAApB,EADF,cAEG,oBAAKF,KAAK,CAACC,QAAN,CAAeE,QAApB,EAFH,cAGG,oBAAKH,KAAK,CAACC,QAAN,CAAeG,GAApB,EAHH,cAIE,oBAAKJ,KAAK,CAACC,QAAN,CAAeI,MAApB,EAJF,cAKG,mCACA,KAAC,IAAD,EAAM,SAAS,CAAC,uBAAhB,CAAwC,EAAE,CAAE,WAAWL,KAAK,CAACC,QAAN,CAAeK,GAAtE,qBADA,cACyF,UAAG,IAAI,CAAC,GAAR,CAAY,SAAS,CAAC,iBAAtB,CAAwC,OAAO,CAAE,kBAAK,CAACN,KAAK,CAACO,cAAN,CAAqBP,KAAK,CAACC,QAAN,CAAeK,GAApC,EAA0C,CAAjG,qBADzF,GALH,GADoB,EAArB,CAWA,UAAaE,WAAb,wGACE,oBAAYR,KAAZ,CAAkB,4CAChB,uBAAMA,KAAN,EACA,MAAKO,cAAL,CAAsB,MAAKA,cAAL,CAAoBE,IAApB,+BAAtB,CACA,MAAKC,KAAL,CAAa,CAACC,KAAK,CAAC,EAAP,CAAb,CAHgB,aAIjB,CALH,wDAME,4BAAmB,iBACjBb,KAAK,CAACc,GAAN,CAAU,wCAAV,EACCC,IADD,CACM,SAAAC,GAAG,CAAG,CACV,MAAI,CAACC,QAAL,CAAc,CAACJ,KAAK,CAAEG,GAAG,CAACE,IAAZ,CAAd,EACD,CAHD,EAICC,KAJD,CAIO,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,CAAY,OAAZ,EACD,CAND,EAOD,CAdH,8BAeE,wBAAeC,EAAf,CAAkB,CAChBvB,KAAK,CAACwB,MAAN,CAAa,wCAA0CD,EAAvD,EACCR,IADD,CACM,SAAAC,GAAG,QAAIK,QAAO,CAACC,GAAR,CAAYN,GAAG,CAACE,IAAhB,CAAJ,EADT,EAGA,KAAKD,QAAL,CAAc,CACZJ,KAAK,CAAE,KAAKD,KAAL,CAAWC,KAAX,CAAiBY,MAAjB,CAAwB,SAAAC,IAAI,QAAIA,KAAI,CAAClB,GAAL,GAAae,EAAjB,EAA5B,CADK,CAAd,EAGD,CAtBH,yBAuBE,oBAAW,iBACT,MAAO,MAAKX,KAAL,CAAWC,KAAX,CAAiBc,GAAjB,CAAqB,SAAAC,eAAe,CAAE,CAC3C,mBAAO,KAAC,QAAD,EAAU,QAAQ,CAAEA,eAApB,CAAqC,cAAc,CAAE,MAAI,CAACnB,cAA1D,EAA+EmB,eAAe,CAACpB,GAA/F,CAAP,CACD,CAFM,CAAP,CAGD,CA3BH,sBA6BE,iBAAS,CACP,mBACE,iBAAS,SAAS,CAAC,MAAnB,wBACI,YAAK,SAAS,CAAC,YAAf,uBACE,WAAI,SAAS,CAAC,MAAd,iCADF,EADJ,cAII,eAAO,SAAS,CAAC,iCAAjB,wBACI,cAAO,SAAS,CAAC,aAAjB,uBACA,mCACE,iCADF,cAEE,gCAFF,cAGE,2BAHF,cAIE,8BAJF,cAKE,WAAI,SAAS,CAAC,OAAd,qBALF,GADA,EADJ,cAUE,uBACG,KAAKqB,SAAL,EADH,EAVF,GAJJ,GADF,CAqBD,CAnDH,wBAAgC/B,SAAhC,EAsDA,cAAeY,WAAf"},"metadata":{},"sourceType":"module"}